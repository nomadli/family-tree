{"version":3,"sources":["components/Switch/index.js","components/MixedNodeElement.js","components/Card.js","components/PureSvgNodeElement.js","utils/TreeConverter.js","components/Editor.js","components/Viewer.js","App.js","index.js"],"names":["Input","this","props","variable","name","onChange","checked","className","type","id","htmlFor","Component","MixedNodeElement","nodeData","triggerNodeToggle","foreignObjectProps","Fragment","r","style","display","flexDirection","alignItems","border","paddingBottom","backgroundColor","listStyleType","padding","attributes","Object","keys","map","labelKey","i","key","children","textAlign","onClick","__rd3t","collapsed","cardStyle","width","height","rx","ry","fill","stroke","clipPath","strokeWidth","fontSize","textAnchor","Card","nodeDatum","lorx","cy","left","lines","biography","trim","split","gradientTransform","offset","stopColor","cx","x","y","image","href","process","birthday","death","female","entries","str","idx","Family","tipView","curID","nameNode","node","bgcolor","ransform","imageNode","toggleNode","setID","partner","onMouseEnter","onMouseLeave","React","PureSvgNodeElement","bfs","idRegex","parentIdRegex","extract","ancestryEntry","entryData","Error","val","parseAncestryEntry","length","line","forEach","def","join","match","matches","parentId","data","parseAncestryNotation","text","nodeMap","replace","filter","entry","tree","values","push","printAncestryEntry","attr","frontier","shift","child","childI","customNodeFnMapping","svg","description","fn","rd3tProps","appState","orientation","mixed","nodeSize","getEditDataFileLink","window","location","owner","projectPath","Editor","toggleCollapseNeighborNodes","handleConfigChange","prevState","shouldCollapseNeighborNodes","state","proposedAncestry","ancestryParsingError","bind","setTitle","setOrientation","setPathFunc","handleChange","handleStringChange","handleFloatChange","toggleCollapsible","toggleZoomable","setScaleExtent","setSeparation","setNodeSize","toggleLegacyTransitions","onDataChange","configurations","notation","setState","e","message","title","pathFunc","evt","target","parsedIntValue","parseInt","value","undefined","isNaN","parsedFloatValue","parseFloat","collapsible","zoomable","scaleExtent","separation","siblings","nonSiblings","enableLegacyTransitions","version","rel","navigator","clipboard","writeText","JSON","stringify","color","margin","event","tryUpdateAncestry","Switch","translateX","translateY","initialDepth","defaultValue","depthFactor","zoom","min","max","transitionDuration","configs","MyTree","Tree","collapseNode","Viewer","setTipState","tipID","dimensions","treeContainer","getBoundingClientRect","countNodes","count","n","reduce","sum","Array","isArray","ref","tc","renderCustomNodeElement","translate","styles","App","editMode","toggleEditMode","newData","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0c794c01.chunk.js","sourcesContent":["import PropTypes from 'prop-types'\nimport React, { Component } from 'react';\nimport './styles.css';\n\nclass Input extends Component {\n  static propTypes = {\n    name: PropTypes.string.isRequired,\n    onChange: PropTypes.func.isRequired,\n    checked: PropTypes.bool.isRequired,\n    variable: PropTypes.object\n  };\n\n  render() {\n    const { variable, name, onChange, checked } = this.props;\n    return (\n      <div className='onoffswitch'>\n        <input type='checkbox' className='onoffswitch-checkbox' id={name} name={name}\n          onChange={onChange} checked={checked} {...variable} />\n        <label className='onoffswitch-label' htmlFor={name}>\n          <span className='onoffswitch-inner' />\n          <span className='onoffswitch-switch' />\n        </label>\n      </div>\n    );\n  }\n}\n\nexport default Input;","import React from 'react';\n\nconst MixedNodeElement = ({ nodeData = {}, triggerNodeToggle, foreignObjectProps = {} }) => {\n  return (\n    <React.Fragment>\n      <circle r={20}></circle>\n      <foreignObject {...foreignObjectProps}>\n        <div\n          style={{\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            border: '1px solid black',\n            paddingBottom: '1rem',\n            backgroundColor: 'rgb(248, 248, 255)', // ghostwhite\n          }}\n        >\n          <h3>{nodeData.name}</h3>\n          <ul style={{ listStyleType: 'none', padding: 0 }}>\n            {nodeData.attributes &&\n              Object.keys(nodeData.attributes).map((labelKey, i) => (\n                <li key={`${labelKey}-${i}`}>\n                  {labelKey}: {nodeData.attributes[labelKey]}\n                </li>\n              ))}\n          </ul>\n          {nodeData.children && (\n            <button style={{ textAlign: 'center' }} onClick={triggerNodeToggle}>\n              {nodeData.__rd3t.collapsed ? '⬅️ ➡️ Expand' : '➡️ ⬅️ Collapse'}\n            </button>\n          )}\n        </div>\n      </foreignObject>\n    </React.Fragment>\n  );\n};\n\nexport default MixedNodeElement;\n","import React from 'react';\n\n//font-family=\"Roboto-Bold, Roboto\" font-size=\"8\" inline-size=\"50\"\nconst cardStyle = {\n  border: {\n    width: 300,\n    height: 200,\n    rx: 12,\n    ry: 12,\n    fill: 'url(#bgc)',\n    stroke: 'url(#bgc)',\n  },\n  imgBG:{\n    r: 50,\n    fill: 'white',\n    stroke: 'white'\n  },\n  img: {\n    clipPath: 'url(#iconc)',\n    height: 100,\n    width: 100,\n  },\n  lable: {\n    fill: '#FFFFFF',\n    stroke: '#FFFFFF',\n    strokeWidth: 1,\n    fontSize: 14,\n    textAnchor: \"start\",\n  },\n  info: {\n    fill: '#FFFFFF',\n    stroke: '#FFFFFF',\n    strokeWidth: 1,\n    fontSize: 14,\n    textAnchor: \"start\",\n  },\n};\n\nconst Card = ({ nodeDatum, lorx, cy, left }) => {\n  let lines = null;\n  if (nodeDatum.biography) {\n    lines = nodeDatum.biography.trim().split('\\n');\n  }\n\n  if (!left) {\n    lorx = lorx - 300\n  }\n  \n  return (\n    <React.Fragment>\n      <defs>\n        <linearGradient id=\"bgc\" gradientTransform=\"rotate(45)\">\n          <stop offset=\"0%\" stopColor=\"rgb(16, 24, 40)\" />\n          <stop offset=\"100%\" stopColor=\"rgb(71, 84, 103)\" />\n        </linearGradient>\n        <clipPath id=\"iconc\">\n          <circle cx={56+lorx} cy={cy} r=\"50\"/>\n        </clipPath>\n      </defs>\n      <rect {...cardStyle.border} x={lorx} y={-100+cy}/>\n      <circle {...cardStyle.imgBG} cx={56+lorx} cy={cy}></circle>\n      {nodeDatum.image ?\n        <image {...cardStyle.img} x={6+lorx} y={-50+cy} href={`${process.env.PUBLIC_URL}/img/${nodeDatum.image}`} /> :\n        <></>\n      }\n\n      <text x={110+lorx} y={-80+cy} {...cardStyle.lable}>姓名:</text>\n      <text x={150+lorx} y={-80+cy} {...cardStyle.info}>{nodeDatum.name}</text>\n\n      <text x={110+lorx} y={-60+cy} {...cardStyle.lable}>生辰:</text>\n      <text x={150+lorx} y={-60+cy} {...cardStyle.info}>{nodeDatum.birthday}</text>\n\n      <text x={110+lorx} y={-40+cy} {...cardStyle.lable}>仙逝:</text>\n      <text x={150+lorx} y={-40+cy} {...cardStyle.info}>{nodeDatum.death}</text>\n\n      <text x={110+lorx} y={-20+cy} {...cardStyle.lable}>性别:</text>\n      <text x={150+lorx} y={-20+cy} {...cardStyle.info}>{nodeDatum.female ? \"女\" : \"男\"}</text>\n\n      {lines &&\n        Object.entries(lines).map((str, idx) => (\n          idx >= 5 ?\n            <text key={idx} y={14 * idx} x={10+lorx} {...cardStyle.info} fontSize={12}>{str[1]}</text>:\n            <text key={idx} y={14 * idx} x={120+lorx} {...cardStyle.info} fontSize={12}>{str[1]}</text>\n        ))\n      };\n    </React.Fragment>\n  );\n};\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card';\n\nclass Family extends React.Component {\n  tipView = (curID, nodeDatum, lorx, cy, left) => {\n    if (curID !== nodeDatum.id) {\n      return (<></>);\n    }\n    return (\n      <Card nodeDatum={nodeDatum} lorx={lorx} cy={cy} left={left} />\n    );\n  };\n\n  nameNode = (node, bgcolor, ransform) => {\n    return (\n      <React.Fragment>\n        <circle cx={ransform.x} cy={ransform.y} r={50} fill={bgcolor} stroke={bgcolor} />\n        <g className=\"rd3t-label\">\n          <text className=\"rd3t-label__title\" x={ransform.x} y={5 + ransform.y} textAnchor=\"middle\">\n            {node.name}\n          </text>\n        </g>\n      </React.Fragment>\n    );\n  };\n\n  imageNode = (node, bgcolor, ransform) => {\n    return (\n      <React.Fragment>\n        <defs>\n          <clipPath id=\"circleView\">\n            <circle cx={1 + ransform.x} cy={1 + ransform.y} r=\"49\" />\n          </clipPath>\n        </defs>\n\n        <circle cx={ransform.x} cy={ransform.y} r={50} fill={\"transparent\"} stroke={bgcolor} />\n        <image href={`${process.env.PUBLIC_URL}/img/${node.image}`} x={-50 + ransform.x} y={-50 + ransform.y} height={100} width={100} clipPath=\"url(#circleView)\" />\n        <g className=\"rd3t-label\">\n          <text className=\"rd3t-label__title\" x={ransform.x} y={-60+ransform.y} textAnchor=\"middle\">\n            {node.name}\n          </text>\n        </g>\n      </React.Fragment>\n    );\n  }\n\n  render() {\n    let { node, toggleNode, setID, curID, bgcolor } = this.props;\n    if (!node.partner) {\n      return (\n        <g onClick={toggleNode} onMouseEnter={() => setID(node.id)} onMouseLeave={() => setID(0)}>\n          {node.image ?\n            this.imageNode(node, bgcolor, { x: 0, y: 0 }) :\n            this.nameNode(node, bgcolor, { x: 0, y: 0 })\n          }\n          {this.tipView(curID, node, 60, 0, true)}\n        </g>\n      );\n    }\n    return (\n      <React.Fragment>\n        <g onClick={toggleNode} onMouseEnter={() => setID(node.id)} onMouseLeave={() => setID(0)}>\n          {node.image ?\n            this.imageNode(node, bgcolor, { x: 0, y: 0 }) :\n            this.nameNode(node, bgcolor, { x: 0, y: 0 })\n          }\n          {this.tipView(curID, node, -60, 0, false)}\n        </g>\n        <g onClick={toggleNode} onMouseEnter={() => setID(node.partner.id)} onMouseLeave={() => setID(0)}>\n          {node.partner.image ?\n            this.imageNode(node.partner, bgcolor, { x: 105, y: 0 }) :\n            this.nameNode(node.partner, bgcolor, { x: 105, y: 0 })\n          }\n          {this.tipView(curID, node.partner, 160, 0, true)}\n        </g>\n      </React.Fragment>\n    );\n  };\n};\n\nconst PureSvgNodeElement = ({ nodeDatum, toggleNode, setID, curID }) => {\n  let props = {\n    bgcolor: \"#6A9956\",\n    node: nodeDatum,\n    toggleNode: toggleNode,\n    setID: setID,\n    curID: curID,\n  };\n\n  if (nodeDatum.death) {\n    props.bgcolor = \"#8B8B8B\";\n  }\n\n  return <Family {...props} />;\n};\n\nexport default PureSvgNodeElement;\n","const idRegex = /^1(\\.[1-9][0-9]*)*$/;\nconst parentIdRegex = /^(1(\\.[1-9][0-9]*)*)\\.[1-9][0-9]*$/;\n\nfunction extract(ancestryEntry, entryData, key) {\n  if (!(key in entryData))\n    throw Error(`Entry:\n\n${ancestryEntry}\n\nmust have a '${key}' defined`);\n  const val = entryData[key];\n  delete entryData[key];\n  return val;\n}\n\nfunction parseAncestryEntry(ancestryEntry) {\n  if (ancestryEntry.trim().length === 0)\n    return null;\n\n  const entryData = {};\n  const lines = ancestryEntry.trim().split('\\n');\n\n  if (lines.length === 0)\n    return null;\n\n  lines\n    .map(line => line.split('='))\n    .forEach(def => {\n      if (def.length !== 2)\n        throw Error(`Malformed line \"${def.join('=')}\" in entry:\n\n${ancestryEntry}\n\nThe expected format is: property=value`);\n      if (def[0] in entryData)\n        throw Error(`Entry:\n\n${ancestryEntry}\n\nhas a duplicate property ${def[0]}'`);\n      entryData[def[0]] = (def[1] || '').trim();\n    });\n  const id = extract(ancestryEntry, entryData, 'id');\n  const name = extract(ancestryEntry, entryData, 'name');\n  if (!id.match(idRegex))\n    throw Error(`id must match pattern \"${idRegex}\" (eg: 1.2.1),\nbut instead ${id} was found`);\n  const matches = id.match(parentIdRegex);\n  const parentId = (matches && matches.length > 1) ? matches[1] : null;\n  return {id, parentId, data: {name, attributes: entryData, children: []}};\n}\n\nexport function parseAncestryNotation(text) {\n  const nodeMap = {};\n  text.replace('\\r', '')\n    .split('\\n\\n')\n    .map(parseAncestryEntry)\n    .filter(entry => entry != null)\n    .forEach(entry => {\n      if (entry.id in nodeMap)\n        throw Error(`Duplicate id found: ${entry.id}`);\n      nodeMap[entry.id] = entry;\n    });\n  let tree = null;\n  Object.values(nodeMap)\n    .forEach(entry => {\n      if (entry.parentId) {\n        if (!(entry.parentId in nodeMap))\n          throw Error(`Found an entry with 'id=${entry.id}' but no parent exists with 'id=${entry.parentId}'`);\n        nodeMap[entry.parentId].data.children.push(entry.data);\n      } else {\n        if (entry.id !== '1')\n          throw Error(`The original ancestor must have an id=1 .\n          All other entries must be descendents (eg. 1.1, 1.2, 1.2.1, etc).\n          But an entry was found with 'id=${entry.id}'`);\n        tree = entry.data;\n      }\n    });\n\n  Object.values(nodeMap)\n    .filter(entry => entry.data.children.length === 0)\n    .forEach(entry => entry.data.children = null);\n\n  if (tree === null)\n    throw Error('At least one entry must exist with id=1 to represent the original ancestor.');\n  return tree;\n}\n\nfunction printAncestryEntry(entry) {\n  return `id=${entry.id}\nname=${entry.node.name}\n${entry.node.attributes ? Object.entries(entry.node.attributes)\n    .map(attr => attr.join('=') + '\\n')\n    .join('') : ''}`;\n}\n\nfunction* bfs(tree) {\n  const frontier = [{id: '1', node: tree}];\n  while (frontier.length > 0) {\n    const entry = frontier.shift();\n    yield entry;\n    if (entry.node.children) {\n      entry.node.children.forEach((child, childI) => {\n        frontier.push({id: `${entry.id}.${childI + 1}`, node: child});\n      });\n    }\n  }\n}\n\nexport function printAncestryNotation(tree) {\n  return [...bfs(tree)].map(printAncestryEntry).join('\\n');\n}\n","import React, {Component} from 'react';\nimport {version} from '../../package.json';\nimport Switch from './Switch';\nimport MixedNodeElement from './MixedNodeElement';\nimport PureSvgNodeElement from './PureSvgNodeElement';\nimport '../App.css';\nimport {parseAncestryNotation, printAncestryNotation} from '../utils/TreeConverter';\nimport {Tab, TabList, TabPanel, Tabs} from \"react-tabs\";\n\nconst customNodeFnMapping = {\n  svg: {\n    description: 'Default - Pure SVG node & label (IE11 compatible)',\n    fn: (rd3tProps, appState) => (\n      <PureSvgNodeElement\n        nodeDatum={rd3tProps.nodeDatum}\n        toggleNode={rd3tProps.toggleNode}\n        orientation={appState.orientation}\n      />\n    ),\n  },\n  mixed: {\n    description: 'MixedNodeElement - SVG `circle` + `foreignObject` label',\n    fn: ({nodeDatum, toggleNode}, appState) => (\n      <MixedNodeElement\n        nodeData={nodeDatum}\n        triggerNodeToggle={toggleNode}\n        foreignObjectProps={{\n          width: appState.nodeSize.x,\n          height: appState.nodeSize.y,\n          x: -50,\n          y: 50,\n        }}\n      />\n    ),\n  },\n};\n\nfunction getEditDataFileLink() {\n  const matches = window.location.href.match(/https:\\/\\/(.*)\\.github.io\\/(.*)\\//);\n  if (!matches || matches.length < 3) {\n    return 'https://github.com/nomadli/family-tree/edit/master/src/data/data.json';\n  }\n  const owner = matches[1];\n  const projectPath = matches[2];\n  return `https://github.com/${owner}/${projectPath}/edit/master/src/data/data.json`;\n}\n\nclass Editor extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      proposedAncestry: printAncestryNotation(props.data.tree),\n      ancestryParsingError: null,\n    };\n\n    this.handleConfigChange = this.handleConfigChange.bind(this);\n    this.setTitle = this.setTitle.bind(this);\n    this.setOrientation = this.setOrientation.bind(this);\n    this.setPathFunc = this.setPathFunc.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleStringChange = this.handleStringChange.bind(this);\n    this.handleFloatChange = this.handleFloatChange.bind(this);\n    this.toggleCollapsible = this.toggleCollapsible.bind(this);\n    this.toggleZoomable = this.toggleZoomable.bind(this);\n    this.setScaleExtent = this.setScaleExtent.bind(this);\n    this.setSeparation = this.setSeparation.bind(this);\n    this.setNodeSize = this.setNodeSize.bind(this);\n    this.toggleLegacyTransitions = this.toggleLegacyTransitions.bind(this);\n  }\n\n  handleConfigChange(state) {\n    if (!this.props.onDataChange)\n      return;\n    if (typeof state === 'function') {\n      state = state(this.props.data.configurations);\n    }\n    this.props.onDataChange({\n      tree: this.props.data.tree,\n      configurations: {...this.props.data.configurations, ...state}\n    });\n  }\n\n  tryUpdateAncestry(notation) {\n    this.setState({proposedAncestry: notation});\n    try {\n      this.setState({\n        ancestryParsingError: null\n      });\n      this.props.onDataChange({\n        tree: parseAncestryNotation(notation),\n        configurations: this.props.data.configurations\n      });\n    } catch (e) {\n      this.setState({ancestryParsingError: e.message});\n    }\n  }\n\n  setTitle(title) {\n    this.handleConfigChange({title});\n  }\n\n  setOrientation(orientation) {\n    this.handleConfigChange({orientation});\n  }\n\n  setPathFunc(pathFunc) {\n    this.handleConfigChange({pathFunc});\n  }\n\n  handleChange(evt) {\n    const target = evt.target;\n    const parsedIntValue = parseInt(target.value, 10);\n    if (target.value === '') {\n      this.handleConfigChange({\n        [target.name]: undefined,\n      });\n    } else if (!isNaN(parsedIntValue)) {\n      this.handleConfigChange({\n        [target.name]: parsedIntValue,\n      });\n    }\n  }\n\n  handleStringChange(evt) {\n    const {name, value} = evt.target;\n    if (value === '') {\n      this.handleConfigChange({\n        [name]: undefined,\n      });\n    } else {\n      this.handleConfigChange({\n        [name]: value,\n      });\n    }\n  }\n\n  handleFloatChange(evt) {\n    const target = evt.target;\n    const parsedFloatValue = parseFloat(target.value);\n    if (target.value === '') {\n      this.handleConfigChange({\n        [target.name]: undefined,\n      });\n    } else if (!isNaN(parsedFloatValue)) {\n      this.handleConfigChange({\n        [target.name]: parsedFloatValue,\n      });\n    }\n  }\n\n  toggleCollapsible() {\n    this.handleConfigChange(prevState => ({collapsible: !prevState.collapsible}));\n  }\n\n  toggleCollapseNeighborNodes = () => {\n    this.handleConfigChange(prevState => ({\n      shouldCollapseNeighborNodes: !prevState.shouldCollapseNeighborNodes,\n    }));\n  };\n\n  toggleZoomable() {\n    this.handleConfigChange(prevState => ({zoomable: !prevState.zoomable}));\n  }\n\n  setScaleExtent(scaleExtent) {\n    this.handleConfigChange({scaleExtent});\n  }\n\n  setSeparation(separation) {\n    if (!isNaN(separation.siblings) && !isNaN(separation.nonSiblings)) {\n      this.handleConfigChange({separation});\n    }\n  }\n\n  setNodeSize(nodeSize) {\n    if (!isNaN(nodeSize.x) && !isNaN(nodeSize.y)) {\n      this.handleConfigChange({nodeSize});\n    }\n  }\n\n  toggleLegacyTransitions() {\n    this.handleConfigChange(prevState => ({\n      enableLegacyTransitions: !prevState.enableLegacyTransitions,\n    }));\n  }\n\n  render() {\n    return (\n      <div className=\"column-left flex-container-vertical\">\n        <h2 className=\"title flex-conservative\">李强的族谱 v{version}</h2>\n\n        <Tabs className=\"controls-container flex-container-vertical flex-greedy\">\n          <TabList className=\"flex-conservative\">\n            <Tab>Save / Export</Tab>\n            <Tab>Ancestry</Tab>\n            <Tab>Configurations</Tab>\n          </TabList>\n          <TabPanel className=\"controls-container\">\n            <div className=\"prop-container\">\n              Save your changes to avoid loosing your data.<br/>\n              <h5>Steps to save your changes</h5>\n              <ol>\n                <li>Copy all your changes using the 'Copy Tree & Configurations' button below</li>\n                <li>Open your <a\n                  href={getEditDataFileLink()}\n                  target='_blank'\n                  rel='noopener noreferrer'>data file</a> and\n                  paste your changes there.<br/>\n                  Finally, hit the 'Commit changes' button at the bottom.\n                </li>\n                <li>If all goes well, your changes should reflect in a few minutes once you refresh the page.</li>\n              </ol>\n\n              <button\n                type=\"button\"\n                className=\"btn btn-block\"\n                onClick={() => navigator.clipboard.writeText(JSON.stringify(this.props.data, null, 2))}\n              >\n                {'Copy Tree & Configurations'}\n              </button>\n            </div>\n          </TabPanel>\n          <TabPanel className=\"controls-container flex-container-vertical flex-greedy\">\n            {this.state.ancestryParsingError &&\n            <pre className=\"flex-conservative\" style={{color: 'red',}}>{this.state.ancestryParsingError}</pre>}\n            <textarea className=\"flex-greedy\"\n                      style={{width: '100%', margin: '4px', color: this.state.ancestryParsingError ? 'red' : 'black'}}\n                      value={this.state.proposedAncestry}\n                      onChange={(event) => this.tryUpdateAncestry(event.target.value)}/>\n          </TabPanel>\n          <TabPanel className=\"controls-container\">\n            <div className=\"prop-container\">\n              <h4 className=\"prop\">Title</h4>\n              <input\n                type=\"text\"\n                value={this.props.data.configurations.title}\n                onChange={(event) => this.setTitle(event.target.value)}\n              />\n            </div>\n\n            <div className=\"prop-container\">\n              <h4 className=\"prop\">Orientation</h4>\n              <button\n                type=\"button\"\n                className=\"btn btn-controls btn-block\"\n                onClick={() => this.setOrientation('horizontal')}\n              >\n                {'Horizontal'}\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-controls btn-block\"\n                onClick={() => this.setOrientation('vertical')}\n              >\n                {'Vertical'}\n              </button>\n            </div>\n\n            <div className=\"prop-container\">\n              <h4 className=\"prop\">Path Function</h4>\n              <button\n                type=\"button\"\n                className=\"btn btn-controls btn-block\"\n                onClick={() => this.setPathFunc('diagonal')}\n              >\n                {'Diagonal'}\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-controls btn-block\"\n                onClick={() => this.setPathFunc('elbow')}\n              >\n                {'Elbow'}\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-controls btn-block\"\n                onClick={() => this.setPathFunc('straight')}\n              >\n                {'Straight'}\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-controls btn-block\"\n                onClick={() => this.setPathFunc('step')}\n              >\n                {'Step'}\n              </button>\n            </div>\n\n            <div className=\"prop-container\">\n              <label className=\"prop\" htmlFor=\"customNodeElement\">\n                Custom Node Element\n              </label>\n              <select className=\"form-control\" name=\"renderCustomNodeElement\" onChange={this.handleStringChange}>\n                {Object.entries(customNodeFnMapping).map(([key, {description}]) => (\n                  <option key={key} value={key}>\n                    {description}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div className=\"prop-container\">\n              <h4 className=\"prop\">Collapsible</h4>\n              <Switch\n                name=\"collapsibleBtn\"\n                checked={this.props.data.configurations.collapsible}\n                onChange={this.toggleCollapsible}\n              />\n            </div>\n\n            <div className=\"prop-container\">\n              <h4 className=\"prop\">Collapse neighbor nodes</h4>\n              <Switch\n                name=\"collapseNeighborsBtn\"\n                checked={this.props.data.configurations.shouldCollapseNeighborNodes}\n                onChange={this.toggleCollapseNeighborNodes}\n              />\n            </div>\n\n            <div className=\"prop-container\">\n              <h4 className=\"prop\">Enable Legacy Transitions</h4>\n              <Switch\n                name=\"enableLegacyTransitionsBtn\"\n                checked={this.props.data.configurations.enableLegacyTransitions}\n                onChange={this.toggleLegacyTransitions}\n              />\n            </div>\n\n            <div className=\"prop-container\">\n              <div>\n                <label className=\"prop\" htmlFor=\"translateX\">\n                  Translate X\n                </label>\n                <input\n                  className=\"form-control\"\n                  name=\"translateX\"\n                  type=\"number\"\n                  value={this.props.data.configurations.translateX}\n                  onChange={this.handleChange}\n                />\n              </div>\n              <div>\n                <label className=\"prop\" htmlFor=\"translateY\">\n                  Translate Y\n                </label>\n                <input\n                  className=\"form-control\"\n                  name=\"translateY\"\n                  type=\"number\"\n                  value={this.props.data.configurations.translateY}\n                  onChange={this.handleChange}\n                />\n              </div>\n            </div>\n\n            <div className=\"prop-container\">\n              <label className=\"prop\" htmlFor=\"initialDepth\">\n                Initial Depth\n              </label>\n              <input\n                className=\"form-control\"\n                style={{color: 'grey'}}\n                name=\"initialDepth\"\n                type=\"text\"\n                value={this.props.data.configurations.initialDepth}\n                onChange={this.handleChange}\n              />\n            </div>\n\n            <div className=\"prop-container\">\n              <label className=\"prop\" htmlFor=\"depthFactor\">\n                Depth Factor\n              </label>\n              <input\n                className=\"form-control\"\n                name=\"depthFactor\"\n                type=\"number\"\n                defaultValue={this.props.data.configurations.depthFactor}\n                onChange={this.handleChange}\n              />\n            </div>\n\n            {/* <div className=\"prop-container prop\">{`Zoomable: ${this.state.zoomable}`}</div> */}\n\n            <div className=\"prop-container\">\n              <label className=\"prop\" htmlFor=\"zoom\">\n                Zoom\n              </label>\n              <input\n                className=\"form-control\"\n                name=\"zoom\"\n                type=\"number\"\n                defaultValue={this.props.data.configurations.zoom}\n                onChange={this.handleFloatChange}\n              />\n            </div>\n\n            <div className=\"prop-container\">\n              <span className=\"prop prop-large\">Scale Extent</span>\n              <label className=\"sub-prop\" htmlFor=\"scaleExtentMin\">\n                Min\n              </label>\n              <input\n                className=\"form-control\"\n                name=\"scaleExtentMin\"\n                type=\"number\"\n                defaultValue={this.props.data.configurations.scaleExtent.min}\n                onChange={evt =>\n                  this.setScaleExtent({\n                    min: parseFloat(evt.target.value),\n                    max: this.props.data.configurations.scaleExtent.max,\n                  })\n                }\n              />\n              <label className=\"sub-prop\" htmlFor=\"scaleExtentMax\">\n                Max\n              </label>\n              <input\n                className=\"form-control\"\n                name=\"scaleExtentMax\"\n                type=\"number\"\n                defaultValue={this.props.data.configurations.scaleExtent.max}\n                onChange={evt =>\n                  this.setScaleExtent({\n                    min: this.props.data.configurations.scaleExtent.min,\n                    max: parseFloat(evt.target.value),\n                  })\n                }\n              />\n            </div>\n\n            <div className=\"prop-container\">\n              <span className=\"prop prop-large\">Node separation</span>\n              <label className=\"sub-prop\" htmlFor=\"separationSiblings\">\n                Siblings\n              </label>\n              <input\n                className=\"form-control\"\n                name=\"separationSiblings\"\n                type=\"number\"\n                defaultValue={this.props.data.configurations.separation.siblings}\n                onChange={evt =>\n                  this.setSeparation({\n                    siblings: parseFloat(evt.target.value),\n                    nonSiblings: this.props.data.configurations.separation.nonSiblings,\n                  })\n                }\n              />\n              <label className=\"sub-prop\" htmlFor=\"separationNonSiblings\">\n                Non-Siblings\n              </label>\n              <input\n                className=\"form-control\"\n                name=\"separationNonSiblings\"\n                type=\"number\"\n                defaultValue={this.props.data.configurations.separation.nonSiblings}\n                onChange={evt =>\n                  this.setSeparation({\n                    siblings: this.props.data.configurations.separation.siblings,\n                    nonSiblings: parseFloat(evt.target.value),\n                  })\n                }\n              />\n            </div>\n\n            <div className=\"prop-container\">\n              <span className=\"prop prop-large\">Node size</span>\n              <label className=\"sub-prop\" htmlFor=\"nodeSizeX\">\n                X\n              </label>\n              <input\n                className=\"form-control\"\n                name=\"nodeSizeX\"\n                type=\"number\"\n                defaultValue={this.props.data.configurations.nodeSize.x}\n                onChange={evt =>\n                  this.setNodeSize({x: parseFloat(evt.target.value), y: this.props.data.configurations.nodeSize.y})\n                }\n              />\n              <label className=\"sub-prop\" htmlFor=\"nodeSizeY\">\n                Y\n              </label>\n              <input\n                className=\"form-control\"\n                name=\"nodeSizeY\"\n                type=\"number\"\n                defaultValue={this.props.data.configurations.nodeSize.y}\n                onChange={evt =>\n                  this.setNodeSize({x: this.props.data.configurations.nodeSize.x, y: parseFloat(evt.target.value)})\n                }\n              />\n            </div>\n\n            <div className=\"prop-container\">\n              <label className=\"prop\" htmlFor=\"transitionDuration\">\n                Transition Duration\n              </label>\n              <input\n                className=\"form-control\"\n                name=\"transitionDuration\"\n                type=\"number\"\n                value={this.props.data.configurations.transitionDuration}\n                onChange={this.handleChange}\n              />\n            </div>\n          </TabPanel>\n        </Tabs>\n      </div>\n    );\n  }\n}\n\nexport default Editor;\n","import React, { Component } from 'react';\nimport Tree from 'react-d3-tree';\nimport MixedNodeElement from './MixedNodeElement';\nimport PureSvgNodeElement from './PureSvgNodeElement';\nimport '../App.css';\n\n/*\ntree props:\ndata:                     树的数据对象\nzoomable:                 指定是否允许缩放树\ntranslate:                指定树的偏移量,格式为{ x: number, y: number }\norientation:              指定树的方向,可以是\"horizontal\"或\"vertical\"\nseparation:               指定相邻节点之间的距离，可以是一个数值或一个函数\nnodeSize:                 指定每个节点的大小,可以是一个数值或一个函数\npathFunc:                 指定绘制节点之间连线的函数\ndepthFactor:              指定节点深度的因素,用于计算节点之间的距离\ncollapsible:              指定是否允许折叠节点\nonClick:                  指定节点的点击事件处理函数\nonCollapse:               指定节点折叠事件处理函数\nonExpand:                 指定节点展开事件处理函数\nrenderCustomNodeElement:  指定自定义节点元素的渲染函数\n\nNode props:\nnodeData:                 节点的数据对象\nclassNames:               节点的 CSS 类名\ntextLayout:               指定节点标签的布局,可以是\"horizontal\"或\"vertical\"\ncircleRadius:             指定节点圆圈的半径\nnodeSvgShape:             指定节点形状的 SVG 路径\nforeignObjectProps:       指定包含节点标签的 foreignObject 元素的 props\nnodeLabelComponent:       指定节点标签的渲染函数\nonClick:                  指定节点的点击事件处理函数\nonRightClick:             指定节点的右键点击事件处理函数\nonCollapse:               指定节点折叠事件处理函数\nonExpand:                 指定节点展开事件处理函数\n\nLink props:\nlinkData:                 连接两个节点的数据对象\norientation:              指定树的方向, 可以是\"horizontal\"或\"vertical\"\npathFunc:                 指定绘制连线的函数\ntransitionDuration:       指定连线动画的持续时间\n\nrenderCustomNodeElement props:\ndatum:                    当前节点的数据对象,由Tree组件传递给Node组件\ntoggleNode:               展开或收起节点的方法,shouldCollapseNeighborNodes=true有效\ncollapsed:                表示当前节点是否已经折叠\nnodeProps:                所有应该传递给节点的自定义属性都包含在这个对象中\nmouseEvent:               包含当前鼠标事件的对象,可以用于处理鼠标事件\n*/\n\nconst countNodes = (count = 0, n) => {\n  // Count the current node\n  if (n.partner) {\n    count += 2;\n  } else {\n    count += 1;\n  }\n\n  // Base case: reached a leaf node.\n  if (!n.children) {\n    return count;\n  }\n\n  // Keep traversing children while updating `count` until we reach the base case.\n  return n.children.reduce((sum, child) => countNodes(sum, child), count);\n};\n\nconst customNodeFnMapping = {\n  svg: {\n    description: 'Default - Pure SVG node & label (IE11 compatible)',\n    fn: (rd3tProps, configs, setID, curID) => (\n      <PureSvgNodeElement\n        nodeDatum={rd3tProps.nodeDatum}\n        toggleNode={rd3tProps.toggleNode}\n        setID = {setID}\n        curID = {curID}\n      />\n    ),\n  },\n  mixed: {\n    description: 'MixedNodeElement - SVG `circle` + `foreignObject` label',\n    fn: ({ nodeDatum, toggleNode }, configs) => (\n      <MixedNodeElement\n        nodeData={nodeDatum}\n        triggerNodeToggle={toggleNode}\n        foreignObjectProps={{\n          width: configs.nodeSize.x,\n          height: configs.nodeSize.y,\n          x: -50,\n          y: 50,\n        }}\n      />\n    ),\n  },\n};\n\nclass MyTree extends Tree {\n  constructor(props) {\n    super(props);\n    Tree.collapseNode = function (nodeDatum) {\n      nodeDatum.__rd3t.collapsed = true;\n    };\n  }\n  \n  render() {\n    return super.render()\n  }\n}\n\nclass Viewer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      translateX: props.configurations.translateX,\n      translateY: props.configurations.translateY,\n      tipID: 0,\n    };\n  }\n\n  componentDidMount() {\n    const dimensions = this.treeContainer.getBoundingClientRect();\n    this.setState({\n      translateX: dimensions.width / 2.5,\n      translateY: dimensions.height / 2,\n    });\n  }\n\n  setTipState = (id) => {\n    this.setState({tipID:id})\n  }\n\n  render() {\n    const { tree, configurations } = this.props;\n    return (\n      <div className=\"column-right\">\n        <div className=\"tree-stats-container\">\n          <h2>{configurations.title}</h2>\n          {countNodes(0, Array.isArray(tree) ? tree[0] : tree)} 位家族成员.<br />\n        </div>\n        <div ref={tc => (this.treeContainer = tc)} className=\"tree-container\">\n          <MyTree\n            data={tree}\n            renderCustomNodeElement={\n              configurations.renderCustomNodeElement\n                ? rd3tProps => customNodeFnMapping[configurations.renderCustomNodeElement].fn(rd3tProps, configurations, this.setTipState, this.state.tipID)\n                : undefined\n            } //mixed svg\n            orientation={\"vertical\"}\n            translate={{ x: this.state.translateX, y: this.state.translateY }}\n            pathFunc={configurations.pathFunc} //step diagonal elbow straight\n            collapsible={configurations.collapsible}\n            initialDepth={configurations.initialDepth}\n            zoomable={configurations.zoomable}\n            zoom={configurations.zoom}\n            scaleExtent={configurations.scaleExtent}\n            nodeSize={configurations.nodeSize}\n            separation={configurations.separation}\n            enableLegacyTransitions={configurations.enableLegacyTransitions}\n            transitionDuration={configurations.transitionDuration}\n            depthFactor={configurations.depthFactor}\n            styles={configurations.styles}\n            shouldCollapseNeighborNodes={configurations.shouldCollapseNeighborNodes}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Viewer;\n","import React, {Component} from 'react';\nimport Editor from \"./components/Editor\";\n// Data\nimport data from './data/data.json';\nimport Viewer from \"./components/Viewer\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      editMode: false,\n      data\n    }\n    this.toggleEditMode = this.toggleEditMode.bind(this);\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"demo-container\">\n          <button title={'Edit'}\n                  onClick={this.toggleEditMode}/>\n          {this.state.editMode &&\n          <Editor data={this.state.data}\n                  onDataChange={newData => this.setState({data: newData})}/>}\n          <div className=\"column-right\">\n            <Viewer configurations={this.state.data.configurations} tree={this.state.data.tree}/>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  toggleEditMode() {\n    this.setState({editMode: !this.state.editMode})\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'react-tabs/style/react-tabs.css';\nimport App from \"./App\";\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}